import{j as e}from"./ui-components-BkbobCHY.js";import{h as o,u as n,a as t}from"./react-vendor-BoqOdX8w.js";import{u as r,a as i,H as d}from"./Header-CnkfzlY_.js";const l={python:"print('Hello from Python!')",cpp:'#include <bits/stdc++.h>\nusing namespace std;\nint main(){ cout << "Hello from C++!\\n"; return 0;}\n',javascript:"console.log('Hello from JavaScript!')"},a=()=>{const{id:a}=o(),s=n(),{user:c,loading:p}=r(),[u,g]=t.useState(null),[x,f]=t.useState(!0),[b,h]=t.useState("Untitled Notebook"),[y,k]=t.useState([]),[m,j]=t.useState(!1),[v,S]=t.useState(!1),[w,C]=t.useState(!1),[z,R]=t.useState(!1),[A,M]=t.useState(!1),[E,I]=t.useState(!1),[L,T]=t.useState(!1),[B,P]=t.useState(""),[W,N]=t.useState(new Date),[U,D]=t.useState(!1),H=t.useRef(null);t.useEffect(()=>{p||c||s("/auth")},[p,c,s]),t.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),_()),"Escape"===e.key&&(j(!1),S(!1),C(!1),R(!1),M(!1),I(!1),T(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,c]),t.useEffect(()=>{const e=()=>{j(!1),S(!1),C(!1),R(!1),M(!1),I(!1),T(!1),D(!1)};if(m||v||w||z||A||E||L||U)return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[m,v,w,z,A,E,L,U]),t.useEffect(()=>{!p&&c&&async function(){try{if(f(!0),a&&"new"!==a){const e=await i(`/api/notebooks/${a}`);g(e),h(e.title||"Untitled Notebook"),k(Array.isArray(e.cells)&&e.cells.length>0?e.cells:[{id:crypto.randomUUID(),language:"python",code:l.python}])}else{const e=await i("/api/notebooks",{method:"POST",body:JSON.stringify({title:"Untitled Notebook",cells:[{id:crypto.randomUUID(),language:"python",code:l.python}]})}),o=e?.id||e?._id;if(!o)throw new Error("No notebook ID returned from API");g(e),h(e.title||"Untitled Notebook"),k(Array.isArray(e.cells)&&e.cells.length>0?e.cells:[{id:crypto.randomUUID(),language:"python",code:l.python}]),s(`/notebook/${o}`,{replace:!0})}}catch(e){alert("Failed to load notebook. Redirecting to dashboard."),s("/dashboard")}finally{f(!1)}}()},[a,p,c,s]),t.useEffect(()=>{u&&c&&!x&&(window.clearTimeout(H.current||void 0),H.current=window.setTimeout(async()=>{try{const e=u.id||u._id;if(!e)return;await i(`/api/notebooks/${e}`,{method:"PUT",body:JSON.stringify({title:b,cells:y})}),N(new Date)}catch(e){}},2e3))},[y,b,u,c,x]);const F=t.useCallback(e=>{k(o=>[...o,{id:crypto.randomUUID(),language:e,code:l[e]}])},[]),J=t.useCallback((e,o)=>{k(n=>n.map(n=>n.id===e?{...n,...o}:n))},[]),$=t.useCallback(e=>{1!==y.length?k(o=>o.filter(o=>o.id!==e)):alert("Cannot remove the last cell!")},[y.length]),O=t.useCallback(async e=>{J(e.id,{running:!0,stdout:"",stderr:""});try{const o=await i("/api/run",{method:"POST",body:JSON.stringify({language:e.language,code:e.code,stdin:e.stdin||""})});J(e.id,{running:!1,stdout:o.stdout,stderr:o.stderr})}catch(o){J(e.id,{running:!1,stderr:o?.message||String(o)})}},[J]),K=t.useCallback(async()=>{for(const e of y)await O(e)},[y,O]),_=async()=>{if(u&&c)try{const e=u.id||u._id;await i(`/api/notebooks/${e}`,{method:"PUT",body:JSON.stringify({title:b,cells:y})}),N(new Date),alert("Notebook saved successfully!")}catch(e){alert("Failed to save notebook")}},V=()=>{const e=JSON.stringify({title:b,cells:y},null,2),o=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(o),t=document.createElement("a");t.href=n,t.download=`${b||"notebook"}.json`,t.click(),URL.revokeObjectURL(n)},Y=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const o=e.target.files?.[0];if(o)try{const e=await o.text(),n=JSON.parse(e);n.title&&h(n.title),Array.isArray(n.cells)?k(n.cells):Array.isArray(n)&&k(n)}catch(n){alert("Invalid file format")}},e.click()},q=()=>{const e=prompt("Enter new notebook name:",b);e&&e.trim()&&h(e.trim())},G=async()=>{if(confirm("Are you sure you want to delete this notebook?"))try{const e=u?.id||u?._id;await i(`/api/notebooks/${e}`,{method:"DELETE"}),alert("Notebook deleted"),s("/dashboard")}catch(e){alert("Failed to delete notebook")}},Q=()=>{k(y.map(e=>({...e,stdout:"",stderr:""})))},X=()=>{Q(),alert("Runtime restarted. All outputs cleared.")},Z=()=>{k(y.map(e=>({...e,running:!1}))),alert("Execution interrupted")},ee=()=>{if(!B)return;let e=!1;y.forEach(o=>{o.code.includes(B)&&(e=!0)}),e?alert(`Found "${B}" in notebook`):alert(`"${B}" not found`)},oe=()=>{const e=prompt("Find:");if(!e)return;const o=prompt("Replace with:");null!==o&&(k(y.map(n=>({...n,code:n.code.replaceAll(e,o)}))),alert(`Replaced "${e}" with "${o}"`))},ne=()=>{confirm("Clear all cell contents?")&&k(y.map(e=>({...e,code:"",stdout:"",stderr:""})))};return p||x?e.jsxs("div",{children:[e.jsx(d,{}),e.jsx("main",{className:"container",style:{padding:"3rem",textAlign:"center"},children:e.jsx("h2",{children:"Loading notebook..."})})]}):c?e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"#f5f5f5"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",minHeight:56,background:"#2d2d2d",color:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",flexWrap:"wrap",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(8px, 2vw, 20px)",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:32,height:32,background:"#ff6f00",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18},children:"C"}),e.jsx("span",{style:{fontSize:"clamp(14px, 3vw, 18px)",fontWeight:500},children:"Colaboratory"})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),D(!U)},className:"mobile-menu-toggle",style:{display:"none",background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px",fontSize:24},children:U?"âœ•":"â˜°"}),e.jsxs("div",{className:"desktop-menu",style:{display:"flex",gap:"clamp(8px, 1.5vw, 16px)",fontSize:"clamp(12px, 2vw, 14px)",flexWrap:"wrap"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),j(!m)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"File"}),m&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{s("/notebook/new"),j(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"New notebook"}),e.jsx("button",{onClick:()=>{Y(),j(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Upload notebook"}),e.jsx("button",{onClick:()=>{V(),j(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Download"}),e.jsx("button",{onClick:()=>{_(),j(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Save"}),e.jsx("button",{onClick:()=>{q(),j(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Rename"}),e.jsx("hr",{style:{margin:"4px 0",border:"none",borderTop:"1px solid #eee"}}),e.jsx("button",{onClick:()=>{G(),j(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14,color:"#d32f2f"},children:"Delete notebook"})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),S(!v)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"Edit"}),v&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{ee(),S(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Find"}),e.jsx("button",{onClick:()=>{oe(),S(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Find and replace"}),e.jsx("hr",{style:{margin:"4px 0",border:"none",borderTop:"1px solid #eee"}}),e.jsx("button",{onClick:()=>{ne(),S(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Clear all cells"}),e.jsx("button",{onClick:()=>{confirm("Delete all cells?")&&k([{id:crypto.randomUUID(),language:"python",code:l.python}]),S(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14,color:"#d32f2f"},children:"Delete all cells"})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),C(!w)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"View"}),w&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{Q(),C(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Clear all outputs"}),e.jsx("button",{onClick:()=>{window.location.reload(),C(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Refresh"})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),R(!z)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"Insert"}),z&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{F("python"),R(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Python cell"}),e.jsx("button",{onClick:()=>{F("cpp"),R(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"C++ cell"}),e.jsx("button",{onClick:()=>{F("javascript"),R(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"JavaScript cell"})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),M(!A)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"Runtime"}),A&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{K(),M(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Run all"}),e.jsx("button",{onClick:()=>{Z(),M(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Interrupt execution"}),e.jsx("button",{onClick:()=>{X(),M(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Restart runtime"}),e.jsx("button",{onClick:()=>{Q(),M(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Clear all outputs"})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),I(!E)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"Tools"}),E&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{alert("Settings coming soon"),I(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Settings"}),e.jsx("button",{onClick:()=>{alert("Keyboard shortcuts: Ctrl+S (Save), Ctrl+Enter (Run Cell)"),I(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Keyboard shortcuts"})]})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),T(!L)},style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px 12px"},children:"Help"}),L&&e.jsxs("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"#fff",border:"1px solid #ddd",borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:[e.jsx("button",{onClick:()=>{alert("Colaboratory Help\n\nThis is a collaborative coding environment.\n\nSupported languages:\n- Python\n- C++\n- JavaScript"),T(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Documentation"}),e.jsx("button",{onClick:()=>{alert("Report an issue: contact@colaboratory.com"),T(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"Report issue"}),e.jsx("button",{onClick:()=>{alert("Colaboratory v1.0.0"),T(!1)},style:{width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"none",cursor:"pointer",fontSize:14},children:"About"})]})]})]})]}),U&&e.jsx("div",{className:"mobile-menu-dropdown",onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,right:0,background:"#2d2d2d",borderTop:"1px solid #444",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",zIndex:1e3,maxHeight:"70vh",overflowY:"auto"},children:e.jsxs("div",{style:{padding:"12px 16px"},children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"File"}),e.jsx("button",{onClick:()=>{s("/notebook/new"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"New notebook"}),e.jsx("button",{onClick:()=>{Y(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Upload notebook"}),e.jsx("button",{onClick:()=>{V(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Download"}),e.jsx("button",{onClick:()=>{_(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Save"}),e.jsx("button",{onClick:()=>{q(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Rename"}),e.jsx("button",{onClick:()=>{G(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#d32f2f",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Delete notebook"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"Edit"}),e.jsx("button",{onClick:()=>{ee(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Find"}),e.jsx("button",{onClick:()=>{oe(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Find and replace"}),e.jsx("button",{onClick:()=>{ne(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Clear all cells"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"View"}),e.jsx("button",{onClick:()=>{Q(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Clear all outputs"}),e.jsx("button",{onClick:()=>{window.location.reload(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Refresh"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"Insert"}),e.jsx("button",{onClick:()=>{F("python"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Python cell"}),e.jsx("button",{onClick:()=>{F("cpp"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"C++ cell"}),e.jsx("button",{onClick:()=>{F("javascript"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"JavaScript cell"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"Runtime"}),e.jsx("button",{onClick:()=>{K(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Run all"}),e.jsx("button",{onClick:()=>{Z(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Interrupt execution"}),e.jsx("button",{onClick:()=>{X(),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Restart runtime"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"Tools"}),e.jsx("button",{onClick:()=>{alert("Settings coming soon"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Settings"}),e.jsx("button",{onClick:()=>{alert("Keyboard shortcuts: Ctrl+S (Save), Ctrl+Enter (Run Cell)"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Keyboard shortcuts"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:12,color:"#999",marginBottom:8,textTransform:"uppercase",fontWeight:600},children:"Help"}),e.jsx("button",{onClick:()=>{alert("Colaboratory Help\n\nThis is a collaborative coding environment.\n\nSupported languages:\n- Python\n- C++\n- JavaScript"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Documentation"}),e.jsx("button",{onClick:()=>{alert("Report an issue: contact@colaboratory.com"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"Report issue"}),e.jsx("button",{onClick:()=>{alert("Colaboratory v1.0.0"),D(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"none",color:"#fff",cursor:"pointer",fontSize:14,borderRadius:4},onMouseEnter:e=>e.target.style.background="#3d3d3d",onMouseLeave:e=>e.target.style.background="none",children:"About"})]})]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx("input",{type:"text",placeholder:"Search",value:B,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&ee(),style:{background:"#3d3d3d",border:"1px solid #555",color:"#fff",padding:"6px 12px",borderRadius:4,fontSize:"clamp(12px, 2vw, 14px)",width:"clamp(150px, 30vw, 200px)",minWidth:120}}),e.jsx("button",{onClick:()=>s("/"),className:"button button-secondary",style:{fontSize:"clamp(12px, 2vw, 14px)",whiteSpace:"nowrap"},children:"Home"})]})]}),e.jsxs("div",{className:"notebook-main-content",style:{display:"flex",flex:1,overflow:"hidden"},children:[e.jsxs("div",{className:"notebook-sidebar",style:{width:280,background:"#fff",borderRight:"1px solid #e0e0e0",display:"flex",flexDirection:"column",overflow:"auto"},children:[e.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e0e0e0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,margin:0},children:"Files"}),e.jsx("button",{style:{background:"none",border:"none",fontSize:20,cursor:"pointer"},children:"+"})]}),e.jsx("input",{type:"text",placeholder:"Search files",className:"form-input",style:{fontSize:13,padding:"6px 10px"}})]}),e.jsxs("div",{style:{padding:"12px 16px"},children:[e.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"ðŸ“ My Notebooks"}),e.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"ðŸ“ Recent"}),e.jsxs("div",{style:{marginTop:20},children:[e.jsx("button",{onClick:()=>s("/notebook/new"),style:{background:"none",border:"none",fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",gap:6,padding:"6px 0"},children:"+ New notebook"}),e.jsx("button",{onClick:Y,style:{background:"none",border:"none",fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",gap:6,padding:"6px 0",marginTop:8},children:"â¬† Upload"})]})]})]}),e.jsx("div",{className:"notebook-editor-area",style:{flex:1,overflow:"auto",background:"#f5f5f5"},children:e.jsxs("div",{style:{maxWidth:980,margin:"0 auto",padding:"clamp(12px, 3vw, 24px)"},children:[e.jsx("div",{style:{background:"#fff",padding:"16px 20px",borderRadius:"8px 8px 0 0",borderBottom:"1px solid #e0e0e0",marginBottom:0},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",value:b,onChange:e=>h(e.target.value),style:{fontSize:16,fontWeight:500,border:"none",outline:"none",background:"transparent",width:"100%",maxWidth:400},placeholder:"Untitled Notebook"}),e.jsxs("div",{style:{fontSize:12,color:"#666",marginTop:4},children:["â€¢ Last saved ",W.toLocaleTimeString()]})]}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("button",{onClick:()=>{const e=u?.id||u?._id;if(e){const o=`${window.location.origin}/notebook/${e}`;navigator.clipboard.writeText(o),alert(`Share link copied to clipboard!\n${o}`)}},style:{background:"none",border:"none",cursor:"pointer",fontSize:14,display:"flex",alignItems:"center",gap:4},children:"ðŸ”— Share"}),e.jsx("button",{onClick:_,style:{background:"none",border:"none",cursor:"pointer",fontSize:14,display:"flex",alignItems:"center",gap:4},children:"ðŸ’¾ Save"})]})]})}),e.jsxs("div",{style:{background:"#fff",padding:"12px 20px",borderBottom:"1px solid #e0e0e0",display:"flex",gap:12,marginBottom:16},children:[e.jsx("button",{onClick:()=>F("python"),style:{background:"#ff6f00",color:"#fff",border:"none",padding:"8px 16px",borderRadius:4,fontSize:14,fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"+ Code"}),e.jsx("button",{onClick:K,style:{background:"#fff",color:"#333",border:"1px solid #dadce0",padding:"8px 16px",borderRadius:4,fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"â–¶ Run all"})]}),y.map((o,n)=>e.jsx("div",{style:{background:"#fff",border:"2px solid #e0e0e0",borderRadius:8,marginBottom:16,overflow:"hidden",transition:"border-color 0.2s"},onMouseEnter:e=>e.currentTarget.style.borderColor="#ff6f00",onMouseLeave:e=>e.currentTarget.style.borderColor="#e0e0e0",children:e.jsxs("div",{style:{display:"flex"},children:[e.jsxs("div",{style:{width:60,background:"#f8f9fa",display:"flex",flexDirection:"column",alignItems:"center",padding:"12px 8px",gap:8,borderRight:"1px solid #e0e0e0"},children:[e.jsxs("div",{style:{fontSize:12,color:"#666"},children:["[",n+1,"]"]}),e.jsx("div",{style:{fontSize:18,color:"python"===o.language?"#4285f4":"cpp"===o.language?"#ff6f00":"#f4b400"},children:"python"===o.language?"ðŸ":"cpp"===o.language?"âš¡":"ðŸŸ¨"}),e.jsx("button",{onClick:()=>O(o),disabled:o.running,style:{background:o.running?"#ccc":"#fff",border:"1px solid #dadce0",borderRadius:"50%",width:32,height:32,cursor:o.running?"not-allowed":"pointer",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center"},children:o.running?"â‹¯":"â–¶"})]}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{padding:"8px 16px",background:"#f8f9fa",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{fontSize:12,color:"#666",display:"flex",gap:8,alignItems:"center"},children:[e.jsxs("span",{children:["// âš¡ ","cpp"===o.language?"C++":o.language.charAt(0).toUpperCase()+o.language.slice(1)," starter"]}),e.jsxs("select",{value:o.language,onChange:e=>J(o.id,{language:e.target.value}),style:{fontSize:12,padding:"2px 6px",border:"1px solid #dadce0",borderRadius:3,background:"#fff"},children:[e.jsx("option",{value:"python",children:"Python"}),e.jsx("option",{value:"cpp",children:"C++"}),e.jsx("option",{value:"javascript",children:"JavaScript"})]})]}),e.jsx("button",{onClick:()=>$(o.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:16,color:"#666"},children:"Ã—"})]}),e.jsx("textarea",{value:o.code,onChange:e=>J(o.id,{code:e.target.value}),style:{width:"100%",minHeight:150,fontFamily:"'Roboto Mono', monospace",fontSize:13,border:"none",resize:"vertical",padding:16,background:"#fff",outline:"none",lineHeight:1.6},placeholder:"Write your code here..."}),e.jsx("div",{style:{padding:"12px 16px",background:"#f8f9fa",borderTop:"1px solid #e0e0e0"},children:e.jsxs("details",{children:[e.jsx("summary",{style:{fontSize:12,color:"#666",cursor:"pointer",marginBottom:8},children:"Input (stdin) - Click to expand"}),e.jsx("textarea",{value:o.stdin||"",onChange:e=>J(o.id,{stdin:e.target.value}),style:{width:"100%",minHeight:60,fontFamily:"'Roboto Mono', monospace",fontSize:12,resize:"vertical",background:"#fff",border:"1px solid #dadce0",borderRadius:4,padding:8,marginTop:4},placeholder:"Enter input for your program..."})]})}),(o.stdout||o.stderr)&&e.jsxs("div",{style:{padding:16,background:"#fafafa",borderTop:"1px solid #e0e0e0"},children:[e.jsxs("div",{style:{fontSize:12,color:"#666",marginBottom:8,display:"flex",alignItems:"center",gap:8},children:["Output â€¢ 512ms â€¢ ","cpp"===o.language?"C++":o.language.charAt(0).toUpperCase()+o.language.slice(1)]}),o.stdout&&e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:13,fontWeight:600,color:"#ff6f00",marginBottom:8,display:"flex",alignItems:"center",gap:6},children:["âš¡ ","cpp"===o.language?"C++":o.language.charAt(0).toUpperCase()+o.language.slice(1)," Execution Completed"]}),e.jsx("pre",{style:{margin:0,fontSize:13,color:"#333",fontFamily:"'Roboto Mono', monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.6},children:o.stdout})]}),o.stderr&&e.jsx("pre",{style:{margin:o.stdout?"12px 0 0 0":0,fontSize:13,color:"#d32f2f",background:"#ffebee",padding:12,borderRadius:4,border:"1px solid #ffcdd2",fontFamily:"'Roboto Mono', monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.6},children:o.stderr})]})]})]})},o.id)),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:20},children:[e.jsx("button",{onClick:()=>F("python"),style:{background:"#fff",border:"1px solid #dadce0",padding:"10px 18px",borderRadius:4,fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"+ Python"}),e.jsx("button",{onClick:()=>F("cpp"),style:{background:"#fff",border:"1px solid #dadce0",padding:"10px 18px",borderRadius:4,fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"+ C++"}),e.jsx("button",{onClick:()=>F("javascript"),style:{background:"#fff",border:"1px solid #dadce0",padding:"10px 18px",borderRadius:4,fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"+ JavaScript"})]})]})})]})]}):null};export{a as default};
